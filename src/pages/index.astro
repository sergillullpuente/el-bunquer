---
import Layout from '../layouts/Layout.astro';
import EpisodeList from '../components/EpisodeList';
import {adapter} from "../utils/adapter";
const episodeResponse = await fetch('https://api.3cat.cat/audios?ordre=-data_publicacio&programaradio_id=1909&pagina=1&items_pagina=15').then((response)=>response.json());
const episodes = episodeResponse.resposta.items.item.map((epi) => {
  return adapter(epi);
})
---

<Layout title="El BÃºnquer">
  <div class="relative z-10 px-8 lg:px-18">
    <h1 class="text-4xl font-bold text-light-text-heading dark:text-white">
      CapÃ­tols
    </h1>
    <EpisodeList client:visible episodes={episodes} />
  </div>
</Layout>
